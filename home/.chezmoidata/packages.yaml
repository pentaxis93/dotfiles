# Declarative package management
# Add packages here and they'll be installed automatically
# when running chezmoi apply
#
# Organization philosophy: Packages grouped by semantic intention
# Each category reveals purpose; each comment explains why
#
# Structure:
#   packages.<os_id>.apt/pacman/aur - OS-specific package lists
#   - cachyos: CachyOS/Arch-based systems (pacman + AUR)
#   - debian: Debian/Ubuntu VPS systems (apt only)

packages:
  # =============================================================================
  # Debian/Ubuntu VPS Configuration (babbie)
  # =============================================================================
  # Minimal server setup - CLI tools only, no GUI dependencies
  # Many tools are installed via cargo/manual download on VPS
  debian:
    apt:
      # Core CLI Tools - Foundation for server operations
      - fish  # Modern shell with better defaults than bash
      - git  # Version control (usually pre-installed)
      - git-lfs  # Large file storage for git
      - tmux  # Terminal multiplexer for persistent sessions
      - fzf  # Fuzzy finder for navigation
      - ripgrep  # Fast content search
      - jq  # JSON processor
      - tree  # Directory visualization
      - htop  # System monitor
      - btop  # Modern system monitor TUI
      - curl  # HTTP client
      - wget  # Download utility
      - unzip  # Archive extraction
      - p7zip-full  # 7-zip support

      # Development - Languages and build tools
      - build-essential  # GCC, make, etc.
      - python3  # Python runtime
      - python3-pip  # Python package installer
      # NOTE: nodejs/npm installed via nodesource repo on babbie, not from apt

      # Network & Security
      - tailscale  # Mesh VPN for secure connectivity
      - pass  # Password manager (GNU Pass)
      - gnupg  # GPG for encryption

      # PIM Stack Dependencies - Personal Information Management
      - isync  # mbsync for IMAP email sync
      - notmuch  # Email indexing and search
      - khal  # Calendar TUI
      - khard  # Contacts TUI
      - vdirsyncer  # CalDAV/CardDAV sync
      - taskwarrior  # Task management (GTD)

      # Project Planning - Agent-accessible org-mode infrastructure
      - emacs  # Emacs editor for org-mode planning system

    # NOTE: Additional CLI tools are installed via run_once_install-cli-tools-debian.sh:
    # - helix (cargo)   - Modal editor
    # - bat (cargo)     - Syntax-highlighted cat
    # - zoxide (cargo)  - Smart directory jumping  
    # - fd (cargo)      - Better find
    # - lsd (cargo)     - Modern ls with icons
    # - lf (GitHub)     - Terminal file manager
    # - lazygit (GitHub)- Git TUI

  # =============================================================================
  # CachyOS/Arch Desktop & Laptop Configuration (mani, oreb)
  # =============================================================================
  cachyos:
    pacman:
      # System & Security - Foundation for secure operations
      - bitwarden-cli  # Password manager CLI for secure secret management
      - openvpn  # Secure tunneling daemon for VPN connections
      - tailscale  # Mesh VPN for secure device-to-device connectivity
      - zfs-meta  # Metapackage for pre-compiled ZFS (provides "zfs" virtual package)
      - zfs-utils  # ZFS filesystem utilities and command-line tools

      # Torrenting - VPN-bound downloading
      - transmission-cli  # BitTorrent client with daemon and VPN killswitch

      # Media - Video playback with resuming and history
      - mpv  # Media player with position save, file browser, and subtitle support

      # File Management - Terminal file browser with rich previews
      - lf  # Terminal file manager with vi navigation and semantic keybindings
      # LF preview dependencies (cohesive block)
      - fzf  # Fuzzy finder for directory jumping (lf Ctrl+f)
      - ripgrep  # Fast content search (lf Ctrl+g)
      - bat  # Syntax-highlighted text previews with git integration
      - chafa  # Convert images to terminal graphics (sixel/symbols)
      - mediainfo  # Display media file technical information
      - atool  # Universal archive extraction and listing
      - poppler  # PDF rendering library with utilities
      - jq  # Command-line JSON processor for pretty-printing
      - trash-cli  # FreeDesktop.org trash integration
      - wl-clipboard  # Wayland clipboard utilities
      - tree  # Directory tree visualization
      - p7zip  # 7-zip archive support (provides 7z command)

      # Document Viewing - PDF and document readers
      - zathura  # Lightweight PDF/document viewer with vi keybindings
      - zathura-pdf-poppler  # PDF backend for zathura

      # File Handling - Modern xdg-open replacement
      - handlr  # File handler with wofi selector and better defaults
      - wofi  # Wayland-native launcher and input prompt (dmenu replacement)

      # Graphics & Images - Visual editing and viewing
      - imv  # Wayland-native image viewer with better performance
      - slurp  # Interactive region selection for Wayland screenshots (pairs with grim)
      - satty  # Screenshot annotation tool for quick edits
      - gimp  # Full-featured image editor for advanced editing

      # System Automation - Agentic process and app manipulation
      - ydotool  # Wayland input automation for keyboard/mouse simulation across all GUI apps
      - wev  # Wayland event viewer for debugging and understanding input events
      - socat  # Socket manipulation for advanced IPC and service communication

      # Communication - IRC with XDCC support
      - weechat  # Modern IRC client with superior vi-mode and extensibility

      # Audio - PipeWire mixer
      - wiremix  # TUI audio mixer for PipeWire with vi keybindings

      # Bluetooth - Device management
      - bluetui  # TUI bluetooth manager for Waybar widget integration and device pairing

      # Peripheral Configuration - Gaming hardware control
      - libratbag  # DBus daemon for configuring gaming mice (provides ratbagctl CLI)

      # Shell Navigation - Smart directory jumping
      - zoxide  # Frecency-based directory navigation
      - lsd  # Modern ls replacement with icons and colors

      # Web Browsing - Keyboard-driven browser
      - qutebrowser  # Web browser with vim-like navigation and semantic keybindings

      # Development & Build Tools - Programming languages and workflows
      - helix  # Modal editor with semantic navigation and LSP integration
      - npm  # Node package manager (provides npx for MCP servers)
      - uv  # Astral's fast Python package manager (provides uvx for MCP servers)
      - go  # Go programming language and toolchain for systems programming
      - zola  # Fast static site generator for blog publishing
      - github-cli  # GitHub CLI for PR/issue/repo management
      - lazygit  # TUI for git with vi keybindings and reverse video selections
      - python-colour  # Perceptually-uniform color interpolation for spectrum generation

      # Power Management - Idle and screen control
      - swayidle  # Wayland idle daemon for automatic screen off and suspend

      # Contemplation & Wisdom - Daily doses of zen philosophy
      - fortune-mod  # Displays random quotations for contemplative terminal sessions

      # Knowledge Management - Note-taking and personal knowledge base
      - obsidian  # Markdown-based knowledge management with graph visualization and linking

    aur:
      # System & Security - Foundation for secure operations
      - zfs-auto-snapshot  # Automated ZFS snapshots for time-machine backups

      # Torrenting - Terminal UI for Transmission
      - tremc  # TUI for transmission with vi-like keybindings

      # Web Browsing - Modern Firefox-based browser
      - zen-browser-bin  # Privacy-focused Firefox fork with Arc-style vertical tabs and zero telemetry

      # Design & Prototyping - Wireframing and app design
      - frame0  # Hand-drawn wireframing tool for sketching app ideas and interactive prototypes

      # Development - AI-assisted coding tools
      - cursor-bin  # AI-first coding environment for supplementary AI-assisted development
      - opencode  # Terminal-native AI coding agent